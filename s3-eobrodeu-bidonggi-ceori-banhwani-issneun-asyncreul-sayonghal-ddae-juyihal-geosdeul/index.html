<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>S3 ì—…ë¡œë“œ ë¹„ë™ê¸° ì²˜ë¦¬âœŠ : ë°˜í™˜ì´ ìˆëŠ” @Asyncë¥¼ ì‚¬ìš©í•  ë•Œ ì£¼ì˜í•  ê²ƒë“¤....</title>
    <link rel="stylesheet" href="../assets/built/screen.css%3Fv=aee19b215e.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.13.5/tocbot.min.css" integrity="sha512-SFw7k74K3983tyOlJIHa8atr9Ppef3Kix5cmifwzU7ZdtU2E0FRuOVRtd3ENpMJ8sNCie5hlb/0j23efcdQJXA==" 	crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.12.3/tocbot.css">
    
    <style>
        .gh-content {
            position: relative;
        }

        .gh-toc > .toc-list {
            position: relative;
        }

        .toc-list {
            overflow: hidden;
            list-style: none;
            font-size: smaller;
        }

        @media (min-width: 1300px) {
            .gh-sidebar {
                position: absolute; 
                top: 10vmin;
                bottom: 0;
                margin-top: 4vmin;
                grid-column: wide-start / main-start; /* Place the TOC to the left of the content */
            }
        
            .gh-toc {
                position: sticky; /* On larger screens, TOC will stay in the same spot on the page */
                top: 4vmin;
            }
        }

        .gh-toc .is-active-link::before {
            background-color: var(--ghost-accent-color); /* Defines TOC   accent color based on Accent color set in Ghost Admin */
        } 
    </style>
    <link rel="icon" href="../content/images/size/w256h256/2023/08/ringed-planet_1fa90.png" type="image/png">
    <link rel="canonical" href="index.html">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <meta property="og:site_name" content="new-pow&#x27;s space">
    <meta property="og:type" content="article">
    <meta property="og:title" content="S3 ì—…ë¡œë“œ ë¹„ë™ê¸° ì²˜ë¦¬âœŠ : ë°˜í™˜ì´ ìˆëŠ” @Asyncë¥¼ ì‚¬ìš©í•  ë•Œ ì£¼ì˜í•  ê²ƒë“¤....">
    <meta property="og:description" content="ì´ ê¸€ì€ Secondhand í”„ë¡œì íŠ¸ë¥¼ í•˜ë©° íŠ¸ëŸ¬ë¸” ìŠˆíŒ…í•˜ê³  í•™ìŠµí•œ ë‚´ìš©ì„ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.



ì‹œì‘í•˜ë©°






Secondhandì— ê¸€ì„ ì‘ì„±í•  ë•ŒëŠ” ìµœëŒ€ 10ì¥ì˜ ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


ì´ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê³  ë‚˜ì„œ ê°€ì¥ ë§ˆìŒì— ê±¸ë ¸ë˜ ë¶€ë¶„ì´ ìˆëŠ”ë°ìš”, ë°”ë¡œ ì´ 10ì¥ì˜ ì´ë¯¸ì§€ê°€ í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œì—ì„œ ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬ëœë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ê½¤ ê³ í™”ì§ˆì¸ ì´ë¯¸ì§€ë¥¼ 10ì¥ í•œë²ˆì— ì²˜ë¦¬ë¥¼ í•˜ë©´ 3ì´ˆì •ë„ ì†Œìš”ë˜ê¸°ë„ í•©ë‹ˆë‹¤">
    <meta property="og:url" content="http://localhost:2369/s3-eobrodeu-bidonggi-ceori-banhwani-issneun-asyncreul-sayonghal-ddae-juyihal-geosdeul/">
    <meta property="og:image" content="http://localhost:2369/content/images/2023/08/Carina_Dwarf_Galaxy.jpeg">
    <meta property="article:published_time" content="2023-11-06T12:48:28.000Z">
    <meta property="article:modified_time" content="2023-11-06T12:48:28.000Z">
    <meta property="article:tag" content="Posts">
    <meta property="article:tag" content="Projects">
    <meta property="article:tag" content="Secondhand">
    <meta property="article:tag" content="Spring">
    
    <meta property="article:publisher" content="https://www.facebook.com/ghost">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="S3 ì—…ë¡œë“œ ë¹„ë™ê¸° ì²˜ë¦¬âœŠ : ë°˜í™˜ì´ ìˆëŠ” @Asyncë¥¼ ì‚¬ìš©í•  ë•Œ ì£¼ì˜í•  ê²ƒë“¤....">
    <meta name="twitter:description" content="ì´ ê¸€ì€ Secondhand í”„ë¡œì íŠ¸ë¥¼ í•˜ë©° íŠ¸ëŸ¬ë¸” ìŠˆíŒ…í•˜ê³  í•™ìŠµí•œ ë‚´ìš©ì„ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.



ì‹œì‘í•˜ë©°






Secondhandì— ê¸€ì„ ì‘ì„±í•  ë•ŒëŠ” ìµœëŒ€ 10ì¥ì˜ ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


ì´ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê³  ë‚˜ì„œ ê°€ì¥ ë§ˆìŒì— ê±¸ë ¸ë˜ ë¶€ë¶„ì´ ìˆëŠ”ë°ìš”, ë°”ë¡œ ì´ 10ì¥ì˜ ì´ë¯¸ì§€ê°€ í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œì—ì„œ ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬ëœë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ê½¤ ê³ í™”ì§ˆì¸ ì´ë¯¸ì§€ë¥¼ 10ì¥ í•œë²ˆì— ì²˜ë¦¬ë¥¼ í•˜ë©´ 3ì´ˆì •ë„ ì†Œìš”ë˜ê¸°ë„ í•©ë‹ˆë‹¤">
    <meta name="twitter:url" content="http://localhost:2369/s3-eobrodeu-bidonggi-ceori-banhwani-issneun-asyncreul-sayonghal-ddae-juyihal-geosdeul/">
    <meta name="twitter:image" content="http://localhost:2369/content/images/2023/08/Carina_Dwarf_Galaxy.jpeg">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="saehim lee">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="Posts, Projects, Secondhand, Spring">
    <meta name="twitter:site" content="@ghost">
    <meta property="og:image:width" content="2000">
    <meta property="og:image:height" content="1668">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "new-pow&#x27;s space",
        "url": "http://localhost:2369/",
        "logo": {
            "@type": "ImageObject",
            "url": "http://localhost:2369/content/images/2023/09/ringed-planet_1fa90-1.png",
            "width": 60,
            "height": 60
        }
    },
    "author": {
        "@type": "Person",
        "name": "saehim lee",
        "image": {
            "@type": "ImageObject",
            "url": "http://localhost:2369/content/images/2023/08/IMG_1283-1.JPG",
            "width": 1440,
            "height": 1080
        },
        "url": "http://localhost:2369/author/saehim/",
        "sameAs": []
    },
    "headline": "S3 ì—…ë¡œë“œ ë¹„ë™ê¸° ì²˜ë¦¬âœŠ : ë°˜í™˜ì´ ìˆëŠ” @Asyncë¥¼ ì‚¬ìš©í•  ë•Œ ì£¼ì˜í•  ê²ƒë“¤....",
    "url": "http://localhost:2369/s3-eobrodeu-bidonggi-ceori-banhwani-issneun-asyncreul-sayonghal-ddae-juyihal-geosdeul/",
    "datePublished": "2023-11-06T12:48:28.000Z",
    "dateModified": "2023-11-06T12:48:28.000Z",
    "keywords": "Posts, Projects, Secondhand, Spring",
    "description": "ì´ ê¸€ì€ Secondhand í”„ë¡œì íŠ¸ë¥¼ í•˜ë©° íŠ¸ëŸ¬ë¸” ìŠˆíŒ…í•˜ê³  í•™ìŠµí•œ ë‚´ìš©ì„ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.\n\n\n\nì‹œì‘í•˜ë©°\n\n\n\n\n\n\nSecondhandì— ê¸€ì„ ì‘ì„±í•  ë•ŒëŠ” ìµœëŒ€ 10ì¥ì˜ ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\nì´ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê³  ë‚˜ì„œ ê°€ì¥ ë§ˆìŒì— ê±¸ë ¸ë˜ ë¶€ë¶„ì´ ìˆëŠ”ë°ìš”, ë°”ë¡œ ì´ 10ì¥ì˜ ì´ë¯¸ì§€ê°€ í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œì—ì„œ ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬ëœë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ê½¤ ê³ í™”ì§ˆì¸ ì´ë¯¸ì§€ë¥¼ 10ì¥ í•œë²ˆì— ì²˜ë¦¬ë¥¼ í•˜ë©´ 3ì´ˆì •ë„ ì†Œìš”ë˜ê¸°ë„ í•©ë‹ˆë‹¤ ğŸ‘€....\n\n\nê³„ì† ë§ˆìŒì— ê±¸ë ¸ë˜ ì½”ë“œë¼ ì´ì°¸ì— ë¦¬íŒ©í† ë§ì„ í•´ë³´ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤.\n\n\n\n\n\n\n\nê°œì„  í•´ë³´ì\n\n\n\nê¸°ì¡´ ë¡œì§ ë° ë¬¸ì œì  ë¶„ì„\n\n\nì›ë˜ ì½”ë“œì™€ ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ì„ ë¨¼ì € ê³µìœ í•˜ìë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\n\n\n    @Override\n    public List&lt;ItemDetailImage&gt; uploadItemDetailImages(List&lt;MultipartFile&gt; request) throws ImageHostException {\n        checkFilesS",
    "mainEntityOfPage": "http://localhost:2369/s3-eobrodeu-bidonggi-ceori-banhwani-issneun-asyncreul-sayonghal-ddae-juyihal-geosdeul/"
}
    </script>

    <meta name="generator" content="Ghost 5.62">
    <link rel="alternate" type="application/rss+xml" title="new-pow&#x27;s space" href="../rss/index.html">
    
    <script defer src="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/sodo-search.min.js" data-key="d57bf7b304bcc3e0002dfc2775" data-styles="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/main.css" data-sodo-search="http://localhost:2369/" crossorigin="anonymous"></script>
    
    <link href="http://localhost:2369/webmentions/receive/" rel="webmention">
    <script defer src="../public/cards.min.js%3Fv=aee19b215e"></script>
    <link rel="stylesheet" type="text/css" href="../public/cards.min.css%3Fv=aee19b215e.css">
    <link href='https://rsms.me/inter/inter.css' rel='stylesheet' type='text/css'>
<link href='https://spoqa.github.io/spoqa-han-sans/css/SpoqaHanSans-kr.css' rel='stylesheet' type='text/css'>
<style>
/* ì „ì²´ í°íŠ¸ í¬ê¸° ì„¤ì • */
body,  
h1, h2, h3, h4, h5, h6,
.main-nav a,
.subscribe-button,
.page-title,
.post-meta,
.read-next-story .post:before,
.pagination,
.site-footer,
.post-full-content,
.post-card-excerpt,
.post-full-custom-excerpt,
[class^="icon-"]:before,
[class*=" icon-"]:before { /* ì—¬ê¸°ì— ì›í•˜ëŠ” í°íŠ¸ í¬ê¸°ë¥¼ ì§€ì •í•˜ì„¸ìš”. */
    font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, "Helvetica Neue", "Segoe UI", "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
}
    
@media (min-width: 1300px)
.gh-sidebar {
    position: absolute;
    top: 2vmin;
    bottom: 0;
    margin-top: 4vmin;
    margin-right: 4vmin;
    grid-column: wide-start / main-start;
}

/* Prism ì½”ë“œ ë¸”ë¡ í°íŠ¸ í¬ê¸° ì„¤ì • (ì˜ˆì‹œ) */
/* .token íƒœê·¸ëŠ” Prism ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ìƒì„±í•˜ëŠ” ì½”ë“œ ë¸”ë¡ ìš”ì†Œë¥¼ ê°€ë¦¬í‚µë‹ˆë‹¤. */
.token {
    font-size: 14px; /* ì½”ë“œ ë¸”ë¡ í°íŠ¸ í¬ê¸°ë¥¼ 14pxë¡œ ì„¤ì • */
}

/* Table of Contents (TOC) í°íŠ¸ í¬ê¸° ì„¤ì • (ì˜ˆì‹œ) */
/* .toc-link í´ë˜ìŠ¤ëŠ” TOC ìš”ì†Œë¥¼ ê°€ë¦¬í‚µë‹ˆë‹¤. */
.toc-link {
    font-size: 14px; /* TOC í°íŠ¸ í¬ê¸°ë¥¼ 16pxë¡œ ì„¤ì • */
}

</style>

<style>  
.gh-canvas .article-image img {  
	max-width: 350px;  
	height: auto;  
}  
</style>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/themes/prism-tomorrow.min.css" integrity="sha512-vswe+cgvic/XBoF1OcM/TeJ2FW0OofqAVdCZiEYkd6dwGXthvkSFWOoGGJgS2CW70VK5dQM5Oh+7ne47s74VTg==" crossorigin="anonymous" referrerpolicy="no-referrer" />

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.13.5/tocbot.min.css" integrity="sha512-SFw7k74K3983tyOlJIHa8atr9Ppef3Kix5cmifwzU7ZdtU2E0FRuOVRtd3ENpMJ8sNCie5hlb/0j23efcdQJXA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.13.5/tocbot.min.js" integrity="sha512-Pb1ryJBQ8yanWB5d4BaW6AyQsPNkB3m9dVNLpwYeyQA3jxM/NJtLXsB0DU4VOD0EBbJBXm8LOnwsVnQCdClwgg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><style>:root {--ghost-accent-color: #ff7070;}</style>
</head>

<body class="post-template tag-2023 tag-posts tag-projects tag-secondhand tag-spring is-head-left-logo">
<div class="gh-site">

    <header id="gh-head" class="gh-head gh-outer">
        <div class="gh-head-inner gh-inner">
            <div class="gh-head-brand">
                <div class="gh-head-brand-wrapper">
                    
                    <a class="gh-head-logo" href="../index.html">
                            <img src="../content/images/2023/09/ringed-planet_1fa90-1.png" alt="new-pow&#x27;s space">
                                <img src="../content/images/2023/09/ringed-planet_1fa90.png" alt="new-pow&#x27;s space">
                    </a>
                    
                </div>
                <button class="gh-search gh-icon-btn" aria-label="Search this site" data-ghost-search><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" width="20" height="20"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></button>
                <button class="gh-burger"></button>
            </div>

            <nav class="gh-head-menu">
                <ul class="nav">
    <li class="nav-about"><a href="../about/index.html">About</a></li>
    <li class="nav-posts"><a href="../tag/posts/index.html">Posts</a></li>
    <li class="nav-to-blog"><a href="https://new-pow.tistory.com/">to Blog</a></li>
</ul>

            </nav>

            <div class="gh-head-actions">
                        <button class="gh-search gh-icon-btn" aria-label="Search this site" data-ghost-search><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" width="20" height="20"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></button>
            </div>
        </div>
    </header>

    
<main class="gh-main">
        <article class="gh-article post tag-2023 tag-posts tag-projects tag-secondhand tag-spring no-image">

            <header class="gh-article-header gh-canvas">

                <h1 class="gh-article-title">S3 ì—…ë¡œë“œ ë¹„ë™ê¸° ì²˜ë¦¬âœŠ : ë°˜í™˜ì´ ìˆëŠ” @Asyncë¥¼ ì‚¬ìš©í•  ë•Œ ì£¼ì˜í•  ê²ƒë“¤....</h1>

                    <aside class="gh-article-sidebar">

        <div class="gh-author-image-list">
                <a class="gh-author-image" href="../author/saehim/index.html">
                        <img src="../content/images/2023/08/IMG_1283-1.JPG" alt="saehim lee">
                </a>
        </div>

        <div class="gh-author-name-list">
                <h4 class="gh-author-name">
                    <a href="../author/saehim/index.html">saehim lee</a>
                </h4>
                
        </div>

        <div class="gh-article-meta">
            <div class="gh-article-meta-inner">
                <time class="gh-article-date" datetime="2023-11-06">Nov 6, 2023</time>
                    <span class="gh-article-meta-sep"></span>
                    <span class="gh-article-length">19 min</span>
            </div>
        </div>

    </aside>


                            </header>


            <section class="gh-content gh-canvas">
                <br>
                <aside class="gh-sidebar"><div class="gh-toc"></div></aside> 

                <blockquote>ì´ ê¸€ì€ Secondhand í”„ë¡œì íŠ¸ë¥¼ í•˜ë©° íŠ¸ëŸ¬ë¸” ìŠˆíŒ…í•˜ê³  í•™ìŠµí•œ ë‚´ìš©ì„ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.</blockquote>
<h2 id="%EC%8B%9C%EC%9E%91%ED%95%98%EB%A9%B0"><strong>ì‹œì‘í•˜ë©°</strong></h2>
<figure class="kg-card kg-image-card"><img src="https://blog.kakaocdn.net/dn/9Bn0A/btszM1J35HI/kIvAYxXFL7W24k1IIB7SOK/img.png" class="kg-image" alt loading="lazy"></figure>
<p></p>
<p>Secondhandì— ê¸€ì„ ì‘ì„±í•  ë•ŒëŠ” ìµœëŒ€ 10ì¥ì˜ ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>ì´ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê³  ë‚˜ì„œ ê°€ì¥ ë§ˆìŒì— ê±¸ë ¸ë˜ ë¶€ë¶„ì´ ìˆëŠ”ë°ìš”, ë°”ë¡œ ì´ 10ì¥ì˜ ì´ë¯¸ì§€ê°€ í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œì—ì„œ ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬ëœë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ê½¤ ê³ í™”ì§ˆì¸ ì´ë¯¸ì§€ë¥¼ 10ì¥ í•œë²ˆì— ì²˜ë¦¬ë¥¼ í•˜ë©´ 3ì´ˆì •ë„ ì†Œìš”ë˜ê¸°ë„ í•©ë‹ˆë‹¤ ğŸ‘€....</p>
<p>ê³„ì† ë§ˆìŒì— ê±¸ë ¸ë˜ ì½”ë“œë¼ ì´ì°¸ì— ë¦¬íŒ©í† ë§ì„ í•´ë³´ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤.</p>
<figure class="kg-card kg-image-card"><img src="https://blog.kakaocdn.net/dn/dr7TFP/btszLpLkQhR/087vNuKRMFQEkyFqFZbeR1/img.png" class="kg-image" alt loading="lazy"></figure>
<p></p>
<h2 id="%EA%B0%9C%EC%84%A0-%ED%95%B4%EB%B3%B4%EC%9E%90"><strong>ê°œì„  í•´ë³´ì</strong></h2>
<h3 id="%EA%B8%B0%EC%A1%B4-%EB%A1%9C%EC%A7%81-%EB%B0%8F-%EB%AC%B8%EC%A0%9C%EC%A0%90-%EB%B6%84%EC%84%9D"><strong>ê¸°ì¡´ ë¡œì§ ë° ë¬¸ì œì  ë¶„ì„</strong></h3>
<p>ì›ë˜ ì½”ë“œì™€ ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ì„ ë¨¼ì € ê³µìœ í•˜ìë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p>
<pre><code class="language-java">    @Override
    public List&lt;ItemDetailImage&gt; uploadItemDetailImages(List&lt;MultipartFile&gt; request) throws ImageHostException {
        checkFilesSize(request);

        List&lt;ItemDetailImage&gt; images = new ArrayList&lt;&gt;();

        for (MultipartFile multipartFile : request) {
            ImageInfo imageInfo = uploadItemDetailImage(multipartFile);
            images.add(ItemDetailImage.create(imageInfo.getImageUrl()));
        }

        return images;
    }
    
    @Override
    public ImageInfo uploadItemDetailImage(MultipartFile file) throws ImageHostException {
        String imageUrl = "";

        try {
            imageUrl = upload(file, Directory.ITEM_DETAIL);
        } catch (IOException e) {
            throw new ImageHostException("ë¬¼í’ˆ ì‚¬ì§„ ì—…ë¡œë“œì— ì‹¤íŒ¨í•˜ì˜€ìŠµë‹ˆë‹¤.");
        }

        return ImageInfo.create(imageUrl);
    }
    
    public String upload(MultipartFile file, Directory directory) throws IOException, TooLargeImageException, NotValidImageTypeException {
        checkFileSize(file);
        checkFileType(file);

        String newFileKey = generateKey(file.getOriginalFilename(), directory.getPrefix());
        amazonS3.putObject(new PutObjectRequest(properties.getBucket(), newFileKey, file.getInputStream(), getMetadata(file)));
        return amazonS3.getUrl(properties.getBucket(), newFileKey).toString();
    }
</code></pre>
<figure class="kg-card kg-image-card"><img src="https://blog.kakaocdn.net/dn/mmFTF/btszQDB2AqO/8QN1vwqPWrHbYHXSUzxQqk/img.png" class="kg-image" alt loading="lazy"></figure>
<p></p>
<p>ìŠ¤ë ˆë“œ í•˜ë‚˜ì—ì„œ ìµœëŒ€ 10ê°œì˜ ì´ë¯¸ì§€ë¥¼ ê°œë¯¸ì²˜ëŸ¼ ì²œì²œíˆ í•˜ë‚˜ì”© ì²˜ë¦¬í•˜ê³  ìˆìŠµë‹ˆë‹¤. ğŸœğŸœğŸœğŸœğŸœğŸœğŸœğŸœğŸœğŸœ...</p>
<p>ëˆ„ê°€ ì´ë ‡ê²Œ ë¹„íš¨ìœ¨ì ìœ¼ë¡œ ì§°ë‚˜? ë°”ë¡œ ì ‘ë‹ˆë‹¤ í—ˆí—ˆí—ˆí—ˆ....</p>
<p>ê·¸ë¦¬ê³  ì´ê²ƒì„ ëª¨ë‘ ë‹¤ ì²˜ë¦¬í•œ ë’¤ì— ì„¬ë„¤ì¼ì„ ì²˜ë¦¬í•˜ë¯€ë¡œ S3 ì—…ë¡œë“œë¡œ íŠ¸ë¦¬ê±° ë°œìƒí•˜ëŠ” ì„¬ë„¤ì¼ìš© ëŒë‹¤ëŠ” ë” ëŠë¦¬ê²Œ ì‘ì—…ë  ìˆ˜ ë°–ì— ì—†ì—ˆìŠµë‹ˆë‹¤.</p>
<p>í…ŒìŠ¤íŠ¸ë¡œ ë¡œì»¬ì—ì„œ ìŠ¤ë ˆë“œ ë¡œê·¸ë„ ì°ì–´ë³´ì•˜ëŠ”ë°ìš”. ì—­ì‹œë‚˜ í•œê°œì˜ ìŠ¤ë ˆë“œë¡œ ì§ë ¬ ì²˜ë¦¬í•˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤. ê¹”ë”í•œ ì´ ë¡œì§..</p>
<pre><code class="language-java">DEBUG 9717 --- [nio-8080-exec-2] c.t.s.a.image.service.ImageHostService   : Thread upload work start: 232, image: 7cdd2eb2-6aa9-42cd-88a9-eb9dbc8e9811-IMG_7857.jpg
DEBUG 9717 --- [nio-8080-exec-2] c.t.s.a.image.service.ImageHostService   : Thread work end: 232, image: 7cdd2eb2-6aa9-42cd-88a9-eb9dbc8e9811-IMG_7857.jpg
DEBUG 9717 --- [nio-8080-exec-2] c.t.s.a.image.service.ImageHostService   : Thread upload work start: 232, image: 7cdd2eb2-6aa9-42cd-88a9-eb9dbc8e9811-IMG_7857.jpg
DEBUG 9717 --- [nio-8080-exec-2] c.t.s.a.image.service.ImageHostService   : Thread work end: 232, image: 7cdd2eb2-6aa9-42cd-88a9-eb9dbc8e9811-IMG_7857.jpg
DEBUG 9717 --- [nio-8080-exec-2] c.t.s.a.image.service.ImageHostService   : Thread upload work start: 232, image: 8ec282b9-a2c6-46ab-8fe1-ed6499fd6f37-image0.jpeg
DEBUG 9717 --- [nio-8080-exec-2] c.t.s.a.image.service.ImageHostService   : Thread work end: 232, image: 8ec282b9-a2c6-46ab-8fe1-ed6499fd6f37-image0.jpeg
DEBUG 9717 --- [nio-8080-exec-2] c.t.s.a.image.service.ImageHostService   : Thread upload work start: 232, image: 68f27e6f-a951-441e-99fc-03cfe37d89c2-2023-05-11-bunny.jpg
DEBUG 9717 --- [nio-8080-exec-2] c.t.s.a.image.service.ImageHostService   : Thread work end: 232, image: 68f27e6f-a951-441e-99fc-03cfe37d89c2-2023-05-11-bunny.jpg
DEBUG 9717 --- [nio-8080-exec-2] c.t.s.a.image.service.ImageHostService   : Thread upload work start: 232, image: 115064144.jpeg
DEBUG 9717 --- [nio-8080-exec-2] c.t.s.a.image.service.ImageHostService   : Thread work end: 232, image: 115064144.jpeg
DEBUG 9717 --- [nio-8080-exec-2] c.t.s.a.image.service.ImageHostService   : Thread upload work start: 232, image: a9b9f3e6-2fa0-4737-9d42-25dc31a82a2c-image0.jpeg
DEBUG 9717 --- [nio-8080-exec-2] c.t.s.a.image.service.ImageHostService   : Thread work end: 232, image: a9b9f3e6-2fa0-4737-9d42-25dc31a82a2c-image0.jpeg
DEBUG 9717 --- [nio-8080-exec-2] c.t.s.a.image.service.ImageHostService   : Thread upload work start: 232, image: maxim-abramov-s7vgZ1Prn2M-unsplash.jpg
DEBUG 9717 --- [nio-8080-exec-2] c.t.s.a.image.service.ImageHostService   : Thread work end: 232, image: maxim-abramov-s7vgZ1Prn2M-unsplash.jpg
</code></pre>
<p></p>
<p></p>
<h3 id="%EB%A7%88%EB%B2%95%EC%9D%98-%EC%96%B4%EB%85%B8%ED%85%8C%EC%9D%B4%EC%85%98-async%EC%9D%84-%EB%B6%99%EC%9D%B4%EB%A9%B4-%EC%96%B4%EB%96%BB%EA%B2%8C-%EB%90%A0%EA%B9%8C"><strong>ë§ˆë²•ì˜ ì–´ë…¸í…Œì´ì…˜ @Asyncì„ ë¶™ì´ë©´ ì–´ë–»ê²Œ ë ê¹Œ?</strong></h3>
<p>í”íˆë“¤ ë™ê¸° ì‘ì—…ì„ í•˜ê¸° ìœ„í•´ì„œëŠ” ì–´ë…¸í…Œì´ì…˜ @Asyncë¥¼ ë¶™ì—¬ì£¼ê³¤ í•©ë‹ˆë‹¤. ê·¸ëŸ¼ í•´ê²° ë ê¹Œìš”?</p>
<p>ìœ„ ì½”ë“œì—ì„œ `upload()`ì— @Async ë¥¼ ë¶™ì´ê³  AsyncConfig ë¥¼ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤. ê·¸ë¦¬ê³  ê¸°ëŒ€í•˜ë©° ë‹¤ì‹œ í…ŒìŠ¤íŠ¸ë¥¼ í•´ë³´ì•˜ì§€ë§Œ...</p>
<p>ì—¬ì „íˆ ë™ì¼í•œ ìŠ¤ë ˆë“œì—ì„œ ë™ê¸°ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤. ì‹¬ì§€ì–´ ìŠ¤ë ˆë“œ ê·¸ë£¹ì„ ì§€ì •í•´ì£¼ì—ˆìŒì—ë„ í•´ë‹¹ ê·¸ë£¹ì—ì„œ ìŠ¤ë ˆë“œë¥¼ ê°€ì ¸ì˜¤ì§€ë„ ì•Šê³  ìˆìŠµë‹ˆë‹¤.</p>
<pre><code class="language-java">2023-11-05 22:18:39.177 DEBUG 10387 --- [nio-8080-exec-2] c.t.s.a.image.service.ImageHostService   : Thread upload work start: main 232, image: 7cdd2eb2-6aa9-42cd-88a9-eb9dbc8e9811-IMG_7857.jpg
2023-11-05 22:18:41.300 DEBUG 10387 --- [nio-8080-exec-2] c.t.s.a.image.service.ImageHostService   : Thread work end: 232, image: 7cdd2eb2-6aa9-42cd-88a9-eb9dbc8e9811-IMG_7857.jpg
2023-11-05 22:18:41.364 DEBUG 10387 --- [nio-8080-exec-2] c.t.s.a.image.service.ImageHostService   : Thread upload work start: main 232, image: 7cdd2eb2-6aa9-42cd-88a9-eb9dbc8e9811-IMG_7857.jpg
2023-11-05 22:18:41.443 DEBUG 10387 --- [nio-8080-exec-2] c.t.s.a.image.service.ImageHostService   : Thread work end: 232, image: 7cdd2eb2-6aa9-42cd-88a9-eb9dbc8e9811-IMG_7857.jpg
2023-11-05 22:18:41.448 DEBUG 10387 --- [nio-8080-exec-2] c.t.s.a.image.service.ImageHostService   : Thread upload work start: main 232, image: 8ec282b9-a2c6-46ab-8fe1-ed6499fd6f37-image0.jpeg
2023-11-05 22:18:42.105 DEBUG 10387 --- [nio-8080-exec-2] c.t.s.a.image.service.ImageHostService   : Thread work end: 232, image: 8ec282b9-a2c6-46ab-8fe1-ed6499fd6f37-image0.jpeg
2023-11-05 22:18:42.113 DEBUG 10387 --- [nio-8080-exec-2] c.t.s.a.image.service.ImageHostService   : Thread upload work start: main 232, image: 68f27e6f-a951-441e-99fc-03cfe37d89c2-2023-05-11-bunny.jpg
2023-11-05 22:18:42.169 DEBUG 10387 --- [nio-8080-exec-2] c.t.s.a.image.service.ImageHostService   : Thread work end: 232, image: 68f27e6f-a951-441e-99fc-03cfe37d89c2-2023-05-11-bunny.jpg
2023-11-05 22:18:42.170 DEBUG 10387 --- [nio-8080-exec-2] c.t.s.a.image.service.ImageHostService   : Thread upload work start: main 232, image: 115064144.jpeg
2023-11-05 22:18:42.270 DEBUG 10387 --- [nio-8080-exec-2] c.t.s.a.image.service.ImageHostService   : Thread work end: 232, image: 115064144.jpeg
2023-11-05 22:18:42.273 DEBUG 10387 --- [nio-8080-exec-2] c.t.s.a.image.service.ImageHostService   : Thread upload work start: main 232, image: a9b9f3e6-2fa0-4737-9d42-25dc31a82a2c-image0.jpeg
2023-11-05 22:18:42.360 DEBUG 10387 --- [nio-8080-exec-2] c.t.s.a.image.service.ImageHostService   : Thread work end: 232, image: a9b9f3e6-2fa0-4737-9d42-25dc31a82a2c-image0.jpeg
2023-11-05 22:18:42.365 DEBUG 10387 --- [nio-8080-exec-2] c.t.s.a.image.service.ImageHostService   : Thread upload work start: main 232, image: maxim-abramov-s7vgZ1Prn2M-unsplash.jpg
2023-11-05 22:18:42.569 DEBUG 10387 --- [nio-8080-exec-2] c.t.s.a.image.service.ImageHostService   : Thread work end: 232, image: maxim-abramov-s7vgZ1Prn2M-unsplash.jpg
</code></pre>
<p>(ì°¸ê³ ìš©ìœ¼ë¡œ ìˆ˜ì •í•œ ì½”ë“œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤)</p>
<pre><code class="language-java">@EnableAsync
@Configuration
public class AsyncConfig {

    @Bean(name = "imageUploadExecutor")
    public Executor imageUploadExecutor() {
        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();
        executor.setThreadGroupName("imageUploadExecutor");
        executor.setCorePoolSize(10);
        executor.setMaxPoolSize(20);
        executor.setQueueCapacity(50);
        executor.initialize();
        return executor;
    }
}
</code></pre>
<pre><code class="language-java">    @Async("imageUploadExecutor")
    public String upload(MultipartFile file, Directory directory) throws IOException, TooLargeImageException, NotValidImageTypeException {
        checkFileSize(file);
        checkFileType(file);

        String newFileKey = generateKey(file.getOriginalFilename(), directory.getPrefix());
        amazonS3.putObject(new PutObjectRequest(properties.getBucket(), newFileKey, file.getInputStream(), getMetadata(file)));
        return amazonS3.getUrl(properties.getBucket(), newFileKey).toString();
    }
</code></pre>
<h3 id="%E2%AD%90%EF%B8%8F-async-%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%A0-%EB%95%8C-%EC%A3%BC%EC%9D%98%ED%95%A0-%EC%A0%90"><strong>â­ï¸ @Async ë¥¼ ì‚¬ìš©í•  ë•Œ ì£¼ì˜í•  ì </strong></h3>
<p>ë¬¸ì œì ì€ ì œê°€ ê·¸ë™ì•ˆ Async ì— ëŒ€í•´ ì˜ëª» ì‚¬ìš©í•˜ê³  ìˆì—ˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.</p>
<p>@AsyncëŠ” ì–´ë–»ê²Œ ë™ì‘í• ê¹Œìš”?</p>
<p>ì´ ì–´ë…¸í…Œì´ì…˜ì€ì€ Springì˜ í° íŠ¹ì§•ì¸ AOP ì˜ ê¸°ëŠ¥ìœ¼ë¡œ êµ¬í˜„ë©ë‹ˆë‹¤.</p>
<p>ë©”ì„œë“œì— @Async ì–´ë…¸í…Œì´ì…˜ì„ ë¶™ì´ë©´ proxyTargetClass ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•´ë‹¹ ê°ì²´ì˜ í”„ë¡ì‹œê°€ ë§Œë“¤ì–´ì§‘ë‹ˆë‹¤. ê·¸ í›„ Springì€ contextì— ì—°ê²°ëœ ìŠ¤ë ˆë“œ í’€ì„ ì°¾ì•„ í•´ë‹¹ ë©”ì„œë“œì˜ ë¡œì§ì„ ë³„ë„ ìŠ¤ë ˆë“œë¡œ ì‹¤í–‰í•˜ë ¤ê³  í•©ë‹ˆë‹¤. ë§Œì•½ ëª…ëª…ëœ ë¹ˆì„ ì°¾ì„ ìˆ˜ ì—†ìœ¼ë©´ ê¸°ë³¸ SimpleAsyncTaskExecutorë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. (<a href="https://dzone.com/articles/effective-advice-on-spring-async-part-1?ref=localhost">ğŸ‘‰ ì°¸ê³  ë§í¬</a>)</p>
<p>Proxyë€ Targetì„ ê°ì‹¸ Targetì˜ ìš”ì²­ì„ ëŒ€ì‹  ë°›ì•„ì£¼ëŠ” Wrapping Objectì¸ë°ìš”. í˜¸ì¶œìì—ì„œ íƒ€ê²Ÿì„ í˜¸ì¶œí•˜ê²Œë˜ë©´ íƒ€ê²Ÿì´ ì•„ë‹Œ í”„ë¡ì‹œê°€ í˜¸ì¶œë˜ì–´, íƒ€ê²Ÿ ë©”ì†Œë“œ ì‹¤í–‰ì „ ì„ ì²˜ë¦¬â†’íƒ€ê²Ÿ ë©”ì†Œë“œâ†’í›„ì²˜ë¦¬ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤. (ğŸ‘‰ <a href="https://dahye-jeong.gitbook.io/spring/spring/2020-04-09-aop?ref=localhost">ì°¸ê³  ë§í¬</a>)</p>
<p>ì´ëŸ¬í•œ ë™ì‘ ë°©ì‹ ë•Œë¬¸ì— êµ¬í˜„ì‹œ ì£¼ì˜í•  ì ì´ ìˆëŠ”ë°ìš”. ì£¼ì˜ì‚¬í•­ì„ ì§€í‚¤ì§€ ì•Šìœ¼ë©´ ì–´ë…¸í…Œì´ì…˜ì´ ë¬´ì‹œë˜ê³  ë™ê¸° ë°©ì‹ìœ¼ë¡œ ë™ì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<h4 id="enableasync-%EC%96%B4%EB%85%B8%ED%85%8C%EC%9D%B4%EC%85%98"><strong>@EnableAsync ì–´ë…¸í…Œì´ì…˜</strong></h4>
<p>ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë©”ì¸ ì„¤ì • í´ë˜ìŠ¤ë‚˜ configuration íŒŒì¼ì—ì„œ í•´ë‹¹ ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤. ì´ ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ìŠ¤í”„ë§ì˜ @Async ì–´ë…¸í…Œì´ì…˜ê³¼ EJB 3.1 javax.ejb.Asynchronous ë¥¼ ê°ì§€í•©ë‹ˆë‹¤. (<a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/EnableAsync.html?ref=localhost">ğŸ‘‰ ì°¸ê³  ë§í¬</a>)</p>
<h4 id="bean%EC%9C%BC%EB%A1%9C-%EA%B4%80%EB%A6%AC%EB%90%98%EA%B3%A0-%EC%9E%88%EC%96%B4%EC%95%BC-%ED%95%A9%EB%8B%88%EB%8B%A4"><strong>Beanìœ¼ë¡œ ê´€ë¦¬ë˜ê³  ìˆì–´ì•¼ í•©ë‹ˆë‹¤.</strong></h4>
<p>@ComponentScan ì–´ë…¸í…Œì´ì…˜ì— ì˜í•´ ìŠ¤ìº”ë˜ê±°ë‚˜ @Configuration í´ë˜ìŠ¤ ë‚´ë¶€ì— ë¹ˆìœ¼ë¡œ ì •ì˜ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. Spring ì—ì„œ í”„ë¡ì‹œë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ì„œëŠ” Spring IoC ì»¨í…Œì´ë„ˆì— ì˜í•´ ê´€ë¦¬ë˜ëŠ” Beanì´ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</p>
<h4 id="private-%EB%A9%94%EC%84%9C%EB%93%9C%EC%97%90%EB%8A%94-%EB%8F%99%EC%9E%91%ED%95%98%EC%A7%80-%EC%95%8A%EC%8A%B5%EB%8B%88%EB%8B%A4"><strong>Private ë©”ì„œë“œì—ëŠ” ë™ì‘í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</strong></h4>
<p>ëŸ°íƒ€ì„ì— í”„ë¡ì‹œë¥¼ ìƒì„±í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ë™ì‘í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
<h4 id="%ED%98%B8%EC%B6%9C%ED%95%98%EB%8A%94-%EB%A9%94%EC%84%9C%EB%93%9C%EC%99%80-%EB%B9%84%EB%8F%99%EA%B8%B0-%EB%A9%94%EC%84%9C%EB%93%9C%EA%B0%80-%EA%B0%99%EC%9D%80-%ED%81%B4%EB%9E%98%EC%8A%A4%EC%97%90-%EC%9E%88%EC%9C%BC%EB%A9%B4%EC%A6%89-self-invocation-%EC%9D%B4%EB%A9%B4-%EC%95%88%EB%90%A9%EB%8B%88%EB%8B%A4"><strong>í˜¸ì¶œí•˜ëŠ” ë©”ì„œë“œì™€ ë¹„ë™ê¸° ë©”ì„œë“œê°€ ê°™ì€ í´ë˜ìŠ¤ì— ìˆìœ¼ë©´(ì¦‰, Self-invocation ì´ë©´) ì•ˆë©ë‹ˆë‹¤</strong></h4>
<blockquote>The default is&nbsp;AdviceMode.PROXY.&nbsp;Please note that proxy mode allows for interception of calls through the proxy only. <strong>Local calls within the same class cannot get intercepted that way</strong>; an&nbsp;Async&nbsp;annotation on such a method within a local call will be ignored since Spring's interceptor does not even kick in for such a runtime scenario. For a more advanced mode of interception, consider switching this to&nbsp;AdviceMode.ASPECTJ.<br><a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/EnableAsync.html?ref=localhost" rel="noreferrer">ì¶œì²˜</a></blockquote>
<p>í”„ë¡ì‹œê°€ ìƒì„±ë˜ë”ë¼ë„ ê°™ì€ í´ë˜ìŠ¤ ì•ˆì—ì„œ í˜¸ì¶œí•˜ê¸° ë•Œë¬¸ì— í”„ë¡ì‹œê°€ ì†Œìš©ì´ ì—†ê²Œë©ë‹ˆë‹¤. ë‹¹ì—°íˆ í”„ë¡ì‹œì˜ ì„ ì²˜ë¦¬, í›„ì²˜ë¦¬ ê¸°ëŠ¥ì´ ë‹¹ì—°íˆ ë™ì‘í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
<p>ì´ë ‡ê²Œ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ê²½ìš° ìŠ¤í”„ë§ì˜ ì¸í„°ì…‰í„°ê°€ ì‘ë™í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. í”„ë¡ì‹œë¥¼ ìš°íšŒí•˜ê³  ë©”ì„œë“œë¥¼ ì§ì ‘ í˜¸ì¶œí•˜ê²Œ ë˜ì–´ ë³„ë„ Threadì—ì„œ ë™ì‘í•˜ì§€ ì•Šì•„ Async ì–´ë…¸í…Œì´ì…˜ì€ ë¬´ì‹œë©ë‹ˆë‹¤.</p>
<p><a href="https://dzone.com/articles/effective-advice-on-spring-async-part-1?ref=localhost">(ì´ë¯¸ì¹˜ ì¶œì²˜)</a></p>
<figure class="kg-card kg-image-card"><img src="https://blog.kakaocdn.net/dn/T72Hg/btszKyoTfYB/dttaK3bBasf7JLw2evqZPk/img.jpg" class="kg-image" alt loading="lazy"></figure>
<p></p>
<p></p>
<h3 id="%ED%95%99%EC%8A%B5%ED%95%9C-%EB%82%B4%EC%9A%A9%EC%9D%84-%EC%A0%81%EC%9A%A9%ED%95%B4%EB%B3%B4%EC%95%98%EC%8A%B5%EB%8B%88%EB%8B%A4"><strong>í•™ìŠµí•œ ë‚´ìš©ì„ ì ìš©í•´ë³´ì•˜ìŠµë‹ˆë‹¤.</strong></h3>
<p>ì•Œê³ ë³´ë‹ˆ @Async ì–´ë…¸í…Œì´ì…˜ì´ ë¶™ì€ ë©”ì„œë“œë¥¼ ë‚´ë¶€ í•¨ìˆ˜ì—ì„œ í˜¸ì¶œí•´ì£¼ì—ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</p>
<p>í´ë˜ìŠ¤ë¥¼ ë¶„ë¦¬í•´ì£¼ê³ , AsyncConfigë„ ë‹¤ì‹œ ì ê²€í•˜ì—¬ ìˆ˜ì •í•´ì£¼ì—ˆìŠµë‹ˆë‹¤.</p>
<p>ì•„ë˜ëŠ” ë”°ë¡œ êµ¬í˜„í•œ `ImageUploader` í´ë˜ìŠ¤ì…ë‹ˆë‹¤.</p>
<pre><code>@Service
@RequiredArgsConstructor
public class ImageUploader {

    private final AwsProperties properties;
    private final AmazonS3 amazonS3;

    @Async("imageUploadExecutor")
    public String upload(MultipartFile file, Directory directory) throws IOException {
        log.debug("Thread upload work start: {}, image: {}", Thread.currentThread().getId(), file.getOriginalFilename());

        String newFileKey = generateKey(file.getOriginalFilename(), directory.getPrefix());
        amazonS3.putObject(new PutObjectRequest(properties.getBucket(), newFileKey, file.getInputStream(), getMetadata(file)));
        log.debug("Thread work end: {}, image: {}", Thread.currentThread().getId(), file.getOriginalFilename());
        return amazonS3.getUrl(properties.getBucket(), newFileKey).toString();
    }

    private String generateKey(String originFileKey, String prefix) {
        return String.format("%s%s-%s", prefix, UUID.randomUUID(), originFileKey);
    }

    private ObjectMetadata getMetadata(MultipartFile file) {
        ObjectMetadata objectMetadata = new ObjectMetadata();
        objectMetadata.setContentLength(file.getSize());
        objectMetadata.setContentType(file.getContentType());
        return objectMetadata;
    }
}
</code></pre>
<p>ì´ì œ ì‹¤í–‰í•´ë³´ë‹ˆ ì˜ë„ëŒ€ë¡œ ìŠ¤ë ˆë“œë¡œ ì˜ ìª¼ê°œì ¸ì„œ ë¬¸ì œë¥¼ ì²˜ë¦¬í•˜ê³  ìˆëŠ”ë°ìš”. ì†ë„ë„ ë§¤ìš° ë¹¨ë¼ì¡Œê³ ìš”.</p>
<pre><code>2023-11-05 22:39:33.688 DEBUG 11379 --- [ploadExecutor-3] c.t.s.api.image.service.ImageUploader    : Thread upload work start: imageUploadExecutor 249, image: 8ec282b9-a2c6-46ab-8fe1-ed6499fd6f37-image0.jpeg
2023-11-05 22:39:33.688 DEBUG 11379 --- [ploadExecutor-2] c.t.s.api.image.service.ImageUploader    : Thread upload work start: imageUploadExecutor 248, image: 7cdd2eb2-6aa9-42cd-88a9-eb9dbc8e9811-IMG_7857.jpg
2023-11-05 22:39:33.689 DEBUG 11379 --- [ploadExecutor-4] c.t.s.api.image.service.ImageUploader    : Thread upload work start: imageUploadExecutor 250, image: 68f27e6f-a951-441e-99fc-03cfe37d89c2-2023-05-11-bunny.jpg
2023-11-05 22:39:33.688 DEBUG 11379 --- [ploadExecutor-1] c.t.s.api.image.service.ImageUploader    : Thread upload work start: imageUploadExecutor 247, image: 7cdd2eb2-6aa9-42cd-88a9-eb9dbc8e9811-IMG_7857.jpg
2023-11-05 22:39:33.688 DEBUG 11379 --- [ploadExecutor-7] c.t.s.api.image.service.ImageUploader    : Thread upload work start: imageUploadExecutor 253, image: maxim-abramov-s7vgZ1Prn2M-unsplash.jpg
2023-11-05 22:39:33.688 DEBUG 11379 --- [ploadExecutor-6] c.t.s.api.image.service.ImageUploader    : Thread upload work start: imageUploadExecutor 252, image: a9b9f3e6-2fa0-4737-9d42-25dc31a82a2c-image0.jpeg
2023-11-05 22:39:33.688 DEBUG 11379 --- [ploadExecutor-5] c.t.s.api.image.service.ImageUploader    : Thread upload work start: imageUploadExecutor 251, image: 115064144.jpeg
Hibernate: 
    insert 
    into
        item_contents
        (contents, detail_image_url, is_deleted) 
    values
        (?, ?, ?)
Hibernate: 
    insert 
    into
        item_counts
        (chat_counts, hits, is_deleted, like_counts) 
    values
        (?, ?, ?, ?)
Hibernate: 
    insert 
    into
        item
        (created_at, updated_at, category, item_contents_id, item_counts_id, is_deleted, price, region_id, seller_id, status, thumbnail_url, title) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2023-11-05 22:39:34.986 DEBUG 11379 --- [ploadExecutor-1] c.t.s.api.image.service.ImageUploader    : Thread work end: 247, image: 7cdd2eb2-6aa9-42cd-88a9-eb9dbc8e9811-IMG_7857.jpg
2023-11-05 22:39:34.986 DEBUG 11379 --- [ploadExecutor-5] c.t.s.api.image.service.ImageUploader    : Thread work end: 251, image: 115064144.jpeg
2023-11-05 22:39:34.986 DEBUG 11379 --- [ploadExecutor-6] c.t.s.api.image.service.ImageUploader    : Thread work end: 252, image: a9b9f3e6-2fa0-4737-9d42-25dc31a82a2c-image0.jpeg
2023-11-05 22:39:34.986 DEBUG 11379 --- [ploadExecutor-4] c.t.s.api.image.service.ImageUploader    : Thread work end: 250, image: 68f27e6f-a951-441e-99fc-03cfe37d89c2-2023-05-11-bunny.jpg
2023-11-05 22:39:34.986 DEBUG 11379 --- [ploadExecutor-2] c.t.s.api.image.service.ImageUploader    : Thread work end: 248, image: 7cdd2eb2-6aa9-42cd-88a9-eb9dbc8e9811-IMG_7857.jpg
2023-11-05 22:39:35.006 DEBUG 11379 --- [ploadExecutor-7] c.t.s.api.image.service.ImageUploader    : Thread work end: 253, image: maxim-abramov-s7vgZ1Prn2M-unsplash.jpg
2023-11-05 22:39:35.117 DEBUG 11379 --- [ploadExecutor-3] c.t.s.api.image.service.ImageUploader    : Thread work end: 249, image: 8ec282b9-a2c6-46ab-8fe1-ed6499fd6f37-image0.jpeg
</code></pre>
<p>[##<em>Image|kage@MgNIp/btszI2qqUHB/hmicWcJMK3Izw1aCDOLcjK/img.png|CDM|1.3|{"originWidth":1290,"originHeight":510,"style":"alignCenter","width":500,"height":198}</em>##]</p>
<p>ê·¼ë° ì„í•¨ì´ ëŠê»´ì§‘ë‹ˆë‹¤...ğŸ˜¨..</p>
<figure class="kg-card kg-image-card"><img src="https://blog.kakaocdn.net/dn/bhzmG6/btszKAfWTec/ZOOeiO7uLmuKGCii99MV00/img.jpg" class="kg-image" alt loading="lazy"></figure>
<p></p>
<p></p>
<p>ì¿¼ë¦¬ê°€ ì™œ ì¤‘ê°„ì— ë‚˜ì˜¤ëŠ”ê±°ì•¼? ê·¸ë¦¬ê³  ì™œ ì´ë ‡ê²Œ ë¹ ë¥¸ê±°ì•¼?? I/Oì‘ì—…ì¸ë° 200ms ëŒ€ê°€ ê°€ëŠ¥í•œê±°ì•¼? ì •ë§ë¡œ...?</p>
<h3 id="%EC%83%88%EB%A1%9C%EC%9A%B4-%EB%AC%B8%EC%A0%9C%EC%9D%98-%EB%93%B1%EC%9E%A5-%EB%B0%98%ED%99%98%EA%B0%92%EC%9D%B4-%EC%9E%88%EB%8A%94-%EB%B9%84%EB%8F%99%EA%B8%B0-%EB%A9%94%EC%84%9C%EB%93%9C-%EC%B2%98%EB%A6%AC"><strong>ìƒˆë¡œìš´ ë¬¸ì œì˜ ë“±ì¥: ë°˜í™˜ê°’ì´ ìˆëŠ” ë¹„ë™ê¸° ë©”ì„œë“œ ì²˜ë¦¬</strong></h3>
<p>ì—­ì‹œë‚˜.. ì¿¼ë¦¬ê°€ ì¤‘ê°„ì— ë‚˜ì˜¤ëŠ”ê²Œ ì´ìƒí•´ì„œ DBë¥¼ í™•ì¸í•´ë³´ë‹ˆ ì—­ì‹œë‚˜ null íŒŒí‹°ê°€ ë‚¬ë”ë¼ê³ ìš”. null null í•œ ì´ë¯¸ì§€ urlë“¤...</p>
<figure class="kg-card kg-image-card"><img src="https://blog.kakaocdn.net/dn/pOU4Y/btszLpLmOfs/bnhg3I6kfJf0QP5EW3c2KK/img.png" class="kg-image" alt loading="lazy"></figure>
<p></p>
<p>ì™œ? ë¹„ë™ê¸°ë¡œ ì²˜ë¦¬í•˜ë‹¤ë³´ë‹ˆ `upload()` ì˜ ë°˜í™˜ê°’ì¸ urlì„ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  í›„ë‹¤ë‹¥ ë‹¤ìŒ ë¡œì§ì„ ì²˜ë¦¬í•´ë²„ë¦° íƒ“ì…ë‹ˆë‹¤.</p>
<p>(ë¶€ì¡±í•˜ì§€ë§Œ ì´í•´ë¥¼ ë•ê¸°ìœ„í•œ ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨..)</p>
<figure class="kg-card kg-image-card"><img src="https://blog.kakaocdn.net/dn/cNak8p/btszLjrL8lP/FT2cO9kFKJoPh2HwKWEck0/img.png" class="kg-image" alt loading="lazy"></figure>
<p></p>
<p>ì´ëŸ´ ë•ŒëŠ” ë¹„ë™ê¸° ì²˜ë¦¬ì˜ ë°˜í™˜ê°’ì„ ê¸°ë‹¤ë ¸ë‹¤ê°€ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ì–´ì•¼ í•˜ëŠ”ë°ìš”.</p>
<p>ê¸°ì–µ ì €í¸ì— ìˆë˜ ë™ê¸°-ë¹„ë™ê¸°, ë¸”ë½í‚¹-ë„Œë¸”ë½í‚¹ì„ êº¼ë‚´ì™€ í‚¤ì›Œë“œë¥¼ ì°¾ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤. í•´ë‹¹ ê°œë…ì€ ì§€ê¸ˆ ì—¬ê¸°ì„œ ë‹¤ë£¨ì§€ ì•Šìœ¼ë¯€ë¡œ <a href="https://inpa.tistory.com/entry/%F0%9F%91%A9%E2%80%8D%F0%9F%92%BB-%EB%8F%99%EA%B8%B0%EB%B9%84%EB%8F%99%EA%B8%B0-%EB%B8%94%EB%A1%9C%ED%82%B9%EB%85%BC%EB%B8%94%EB%A1%9C%ED%82%B9-%EA%B0%9C%EB%85%90-%EC%A0%95%EB%A6%AC?ref=localhost">ì´ ë§í¬</a>ë¥¼ ì°¸ê³ í•´ ì£¼ì„¸ìš”.</p>
<h3 id="%EB%B0%98%ED%99%98%EA%B0%92%EC%9D%B4-%EC%9E%88%EB%8A%94-%EB%B9%84%EB%8F%99%EA%B8%B0-%EB%A9%94%EC%84%9C%EB%93%9C"><strong>ë°˜í™˜ê°’ì´ ìˆëŠ” ë¹„ë™ê¸° ë©”ì„œë“œ</strong></h3>
<p>void ë°˜í™˜ ìœ í˜•ì„ ì‚¬ìš©í•˜ëŠ” ë©”ì„œë“œì˜ ê²½ìš°, ê°„ë‹¨í•˜ê²Œ ë©”ì„œë“œë¥¼ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰í•˜ë„ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ë°˜í™˜ê°’ì´ ìˆëŠ” ê²½ìš°ê°€ ë¬¸ì œì˜€ëŠ”ë°ìš”. ì¼ë°˜ì ìœ¼ë¡œ ë°˜í™˜í•˜ë©´ ì €ì˜ ê²½í—˜ì²˜ëŸ¼ ìŠ¤íƒ ë©”ëª¨ë¦¬ì—ì„œ popë˜ë©° ê³µì¤‘ìœ¼ë¡œ í©ë‚ ë¦¬ê²Œ ë˜ê² ì£ ... ğŸ¥²</p>
<p>ë°˜í™˜ ìœ í˜•ì˜ ê²½ìš° ì•„ë˜ì™€ê°™ì€ ì„ íƒì§€ê°€ ìˆìŠµë‹ˆë‹¤.</p>
<figure class="kg-card kg-image-card"><img src="https://blog.kakaocdn.net/dn/mqMix/btszNQBFHo2/rG5CRUtkKhyNrI5JC8wYNK/img.png" class="kg-image" alt loading="lazy"></figure>
<p></p>
<h4 id="future"><strong>Future</strong></h4>
<p>Future ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¹„ë™ê¸° í”„ë¡œì„¸ìŠ¤ì˜ ê²°ê³¼ë¥¼ ë°›ì•„ í˜¸ì¶œí–ˆë˜ ìŠ¤ë ˆë“œì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>`get()` ì„ ì‚¬ìš©í•˜ë©´ ê²°ê³¼ê°’ì´ ë°˜í™˜ë  ë•Œê¹Œì§€ ë¸”ë¡œí‚¹í•˜ê³  ê¸°ë‹¤ë¦½ë‹ˆë‹¤. ì£¼ì˜í•  ì ì€ get() ë©”ì„œë“œì˜ íŒŒë¼ë¯¸í„°ë¡œ time out ì‹œê°„ì„ ì •í•´ì£¼ì§€ ì•Šìœ¼ë©´ ë¬´í•œì • ëŒ€ê¸°í•˜ê²Œ ëœë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.</p>
<pre><code>public class FutureExample {
    public static void main(String[] args) throws ExecutionException, InterruptedException {
        ExecutorService executorService = Executors.newFixedThreadPool(1);
        Future&lt;Integer&gt; future = executorService.submit(() -&gt; {
            Thread.sleep(1000);
            return 42;
        });

        Integer result = future.get();
        System.out.println("Result: " + result);

        executorService.shutdown();
    }
}
</code></pre>
<p>Future ë‚´ë¶€ì ìœ¼ë¡œ ìŠ¤ë ˆë“œ ì„¸ì´í”„í•˜ê²Œ êµ¬í˜„ë˜ì–´ ìˆì–´ì„œ ë”°ë¡œ syncronizedë¥¼ ì‘ì„±í•´ì£¼ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.</p>
<h4 id="completablefuture"><strong>CompletableFuture</strong></h4>
<p>Java8ë¶€í„° ë„ì…ë˜ì—ˆìŠµë‹ˆë‹¤. Future ì¸í„°í˜ì´ìŠ¤ì™€ í•¨ê»˜ CompletionStage ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.</p>
<p>ë‹¨ìˆœíˆ ì™„ë£Œë¥¼ ê¸°ë‹¤ë¦¬ëŠ” Futureì™€ëŠ” ë‹¬ë¦¬, ì½œë°±ì„ ì¶”ê°€í•˜ê±°ë‚˜ ì‘ì—…ì„ ì¡°í•©í•˜ì—¬ ì‚¬ìš©í•˜ëŠ” ë¹„ë™ê¸° íŒŒì´í”„ë¼ì¸ì„ ë§Œë“¤ê±°ë‚˜ ì—¬ëŸ¬ CompletableFuture ë“¤ì„ ëª¨ì•„ ëª¨ë‘ ì™„ë£Œë˜ë©´ ë‹¤ìŒ ì‘ì—…ì„ í•˜ê±°ë‚˜ ì˜ˆì™¸ë¥¼ ë°œìƒì‹œí‚¤ëŠ” ì™„ë£Œë¥¼ í•  ë•Œ, ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<ul><li>ë‹¨ìˆœí•œ Futureë¡œ ì‚¬ìš©í•˜ëŠ” ë°©ë²• get())</li><li>ë¹„ë™ê¸° ê³„ì‚° ê²°ê³¼ ì²˜ë¦¬ (thenApply(), thenAccept(), thenRun())</li><li>ì‘ì—…ì„ ê²°í•©í•´ì„œ ì‚¬ìš©í•˜ê¸° (thenCompose())</li><li>ì—¬ëŸ¬ Future ë³‘ë ¬ë¡œ ì‹¤í–‰ (allOf())</li><li>ì˜¤ë¥˜ì— ëŒ€í•œ ì²˜ë¦¬ (completeExceptionally(), CompleteOnTimeout())</li></ul>
<p>ìì„¸í•œ ë©”ì„œë“œëŠ” ì—¬ê¸°ë¥¼ ì°¸ê³ í–ˆìŠµë‹ˆë‹¤. <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?ref=localhost">ğŸ‘‰ ì°¸ê³  ë§í¬</a></p>
<p>ê° ë©”ì„œë“œì— ëŒ€í•œ ì˜ˆì‹œëŠ” ì—¬ê¸°ë¥¼ ì°¸ê³ í–ˆìŠµë‹ˆë‹¤. <a href="https://www.baeldung.com/java-completablefuture?ref=localhost">ğŸ‘‰ ì°¸ê³  ë§í¬</a></p>
<h4 id="listenablefuture"><strong>ListenableFuture</strong></h4>
<p>í˜¸ì¶œ ë©”ì„œë“œì—ì„œ ì„±ê³µ, ì‹¤íŒ¨ì‹œ ì½œë°±í•  í•¨ìˆ˜ë¥¼ `addCallback()`ìœ¼ë¡œ ì¶”ê°€í•˜ì—¬ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>
<pre><code>public class ListenableFutureExample {
    public static void main(String[] args) {
        SettableListenableFuture&lt;Integer&gt; future = new SettableListenableFuture&lt;&gt;();
        future.addCallback(new ListenableFutureCallback&lt;Integer&gt;() {
            @Override
            public void onSuccess(Integer result) {
                System.out.println("Result: " + result);
            }

            @Override
            public void onFailure(Throwable ex) {
                System.err.println("Error: " + ex.getMessage());
            }
        });

        // ë¹„ë™ê¸° ì‘ì—… ì™„ë£Œ í›„ ê²°ê³¼ ì„¤ì •
        new Thread(() -&gt; {
            try {
                Thread.sleep(1000);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
            future.set(42);
        }).start();

        // ë¹„ë™ê¸° ì‘ì—…ì´ ì™„ë£Œë  ë•Œê¹Œì§€ ëŒ€ê¸°í•˜ì§€ ì•Šê³  ê³„ì† ì§„í–‰
        try {
            Thread.sleep(2000);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
    }
}
</code></pre>
<p>Spring framework 6.0ë¶€í„° deprecate ë˜ì—ˆìŠµë‹ˆë‹¤. (<a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/concurrent/ListenableFuture.html?ref=localhost">ğŸ‘‰ ì°¸ê³  ë§í¬</a>)</p>
<p>deprecateëœ ì •í™•í•œ ì›ì¸ì€ ì°¾ì§€ ëª»í–ˆëŠ”ë°ìš”. ê´€ë ¨í•´ì„œ ì•Œê³ ê³„ì‹œë‹¤ë©´ ëŒ“ê¸€ ë¶€íƒë“œë¦½ë‹ˆë‹¤.</p>
<h3 id="%EB%B0%98%ED%99%98%EA%B0%92%EC%9D%84-%EB%B0%9B%EC%95%84-%EC%82%AC%EC%9A%A9%ED%95%A0-%EC%88%98-%EC%9E%88%EB%8F%84%EB%A1%9D-%EC%88%98%EC%A0%95"><strong>ë°˜í™˜ê°’ì„ ë°›ì•„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ìˆ˜ì •</strong></h3>
<p>ìœ„ ì„ íƒì§€ ì¤‘ ë°˜í™˜ê°’ì„ CompletableFurureë¡œ ì •í–ˆìŠµë‹ˆë‹¤. Futureë³´ë‹¤ ì˜ˆì™¸ì²˜ë¦¬ë‚˜ ë°˜ë³µ ì‘ì—…ì„ ëª¨ë‘ ëª¨ì•„ì„œ ì²˜ë¦¬í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</p>
<p>ë¹„ë™ê¸°ì²˜ë¦¬í•  ë©”ì„œë“œì˜ ë°˜í™˜ê°’ì„ CompletableFurureë¡œ ë°”ê¾¸ì–´ ì£¼ê³  í˜¸ì¶œ ë©”ì„œë“œì—ì„œ ì´ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ ìˆ˜ì •í•´ì£¼ì—ˆìŠµë‹ˆë‹¤.</p>
<pre><code>    @Async("imageUploadExecutor")
    public CompletableFuture&lt;String&gt; upload(MultipartFile file, Directory directory) throws IOException, TooLargeImageException, NotValidImageTypeException {
        log.debug("Thread upload work start: {}, image: {}", Thread.currentThread().getThreadGroup().getName()+ " " + Thread.currentThread().getId(), file.getOriginalFilename());
        CompletableFuture&lt;String&gt; future = new CompletableFuture&lt;&gt;();

        String newFileKey = generateKey(file.getOriginalFilename(), directory.getPrefix());
        amazonS3.putObject(new PutObjectRequest(properties.getBucket(), newFileKey, file.getInputStream(), getMetadata(file)));
        log.debug("Thread work end: {}, image: {}", Thread.currentThread().getId(), file.getOriginalFilename());
        future.complete(amazonS3.getUrl(properties.getBucket(), newFileKey).toString());
        return future;
    }
</code></pre>
<pre><code>    @Override
    public List&lt;ItemDetailImage&gt; uploadItemDetailImages(List&lt;MultipartFile&gt; request) throws ImageHostException {
        checkFilesCount(request);

        List&lt;ItemDetailImage&gt; images = new ArrayList&lt;&gt;();
        List&lt;CompletableFuture&lt;String&gt;&gt; uploadFutures = new ArrayList&lt;&gt;(); // ê²°ê³¼ future

        for (MultipartFile multipartFile : request) {
            CompletableFuture&lt;String&gt; upload = null;
            try {
                upload = imageUploader.upload(multipartFile, Directory.ITEM_DETAIL);
            } catch (IOException e) {
                throw new RuntimeException(e);
            }
            uploadFutures.add(upload);
        }
		
        uploadFutures.forEach(upload -&gt; images.add(ItemDetailImage.create(
                upload.exceptionally(e -&gt; {
                            log.error("ì´ë¯¸ì§€ ì—…ë¡œë“œì— ì‹¤íŒ¨í•˜ì˜€ìŠµë‹ˆë‹¤.", e);
                            throw new CompletionException(e);
                        })
                        .join()))); // ì™„ë£Œëœ ë°˜í™˜ê°’

        return images;
    }
</code></pre>
<p>[##<em>Image|kage@ctS9oj/btszSHSvQAj/4K8OmXfOu4D2gGKKStQGm1/img.png|CDM|1.3|{"originWidth":2388,"originHeight":1668,"style":"alignCenter"}</em>##]</p>
<p>ê·¸ë¦¬ê³  ì‹¤í–‰ ê²°ê³¼ëŠ” ì˜ë„í–ˆë˜ ëŒ€ë¡œ ë¹„ë™ê¸°ë¡œ ì§„í–‰ë˜ê³  ìˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.</p>
<pre><code>2023-11-05 23:27:52.294 DEBUG 13264 --- [ploadExecutor-6] c.t.s.api.image.service.ImageUploader    : Thread upload work start: imageUploadExecutor 282, image: 7cdd2eb2-6aa9-42cd-88a9-eb9dbc8e9811-IMG_7857.jpg
2023-11-05 23:27:52.341 DEBUG 13264 --- [ploadExecutor-6] c.t.s.api.image.service.ImageUploader    : Thread work end: 282, image: 7cdd2eb2-6aa9-42cd-88a9-eb9dbc8e9811-IMG_7857.jpg
2023-11-05 23:27:52.342 DEBUG 13264 --- [ploadExecutor-5] c.t.s.api.image.service.ImageUploader    : Thread upload work start: imageUploadExecutor 281, image: 7cdd2eb2-6aa9-42cd-88a9-eb9dbc8e9811-IMG_7857.jpg
2023-11-05 23:27:52.342 DEBUG 13264 --- [loadExecutor-10] c.t.s.api.image.service.ImageUploader    : Thread upload work start: imageUploadExecutor 286, image: 8ec282b9-a2c6-46ab-8fe1-ed6499fd6f37-image0.jpeg
2023-11-05 23:27:52.342 DEBUG 13264 --- [ploadExecutor-3] c.t.s.api.image.service.ImageUploader    : Thread upload work start: imageUploadExecutor 279, image: 68f27e6f-a951-441e-99fc-03cfe37d89c2-2023-05-11-bunny.jpg
2023-11-05 23:27:52.342 DEBUG 13264 --- [ploadExecutor-8] c.t.s.api.image.service.ImageUploader    : Thread upload work start: imageUploadExecutor 284, image: 115064144.jpeg
2023-11-05 23:27:52.342 DEBUG 13264 --- [ploadExecutor-4] c.t.s.api.image.service.ImageUploader    : Thread upload work start: imageUploadExecutor 280, image: a9b9f3e6-2fa0-4737-9d42-25dc31a82a2c-image0.jpeg
2023-11-05 23:27:52.344 DEBUG 13264 --- [ploadExecutor-2] c.t.s.api.image.service.ImageUploader    : Thread upload work start: imageUploadExecutor 278, image: maxim-abramov-s7vgZ1Prn2M-unsplash.jpg
2023-11-05 23:27:52.414 DEBUG 13264 --- [ploadExecutor-4] c.t.s.api.image.service.ImageUploader    : Thread work end: 280, image: a9b9f3e6-2fa0-4737-9d42-25dc31a82a2c-image0.jpeg
2023-11-05 23:27:52.419 DEBUG 13264 --- [ploadExecutor-8] c.t.s.api.image.service.ImageUploader    : Thread work end: 284, image: 115064144.jpeg
2023-11-05 23:27:52.440 DEBUG 13264 --- [ploadExecutor-3] c.t.s.api.image.service.ImageUploader    : Thread work end: 279, image: 68f27e6f-a951-441e-99fc-03cfe37d89c2-2023-05-11-bunny.jpg
2023-11-05 23:27:52.451 DEBUG 13264 --- [ploadExecutor-5] c.t.s.api.image.service.ImageUploader    : Thread work end: 281, image: 7cdd2eb2-6aa9-42cd-88a9-eb9dbc8e9811-IMG_7857.jpg
2023-11-05 23:27:52.515 DEBUG 13264 --- [ploadExecutor-2] c.t.s.api.image.service.ImageUploader    : Thread work end: 278, image: maxim-abramov-s7vgZ1Prn2M-unsplash.jpg
2023-11-05 23:27:52.815 DEBUG 13264 --- [loadExecutor-10] c.t.s.api.image.service.ImageUploader    : Thread work end: 286, image: 8ec282b9-a2c6-46ab-8fe1-ed6499fd6f37-image0.jpeg
Hibernate: 
    insert 
    into
        item_contents
        (contents, detail_image_url, is_deleted) 
    values
        (?, ?, ?)
Hibernate: 
    insert 
    into
        item_counts
        (chat_counts, hits, is_deleted, like_counts) 
    values
        (?, ?, ?, ?)
Hibernate: 
    insert 
    into
        item
        (created_at, updated_at, category, item_contents_id, item_counts_id, is_deleted, price, region_id, seller_id, status, thumbnail_url, title) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
</code></pre>
<figure class="kg-card kg-image-card"><img src="https://blog.kakaocdn.net/dn/s8uN9/btszNRtPya5/5mpTKnEdkSavaoFBUDVkR1/img.png" class="kg-image" alt loading="lazy"></figure>
<p></p>
<p>ì´ ë¸”ë¡œê·¸ì—ì„œ ì–¸ê¸‰í•œ ì½”ë“œëŠ” <a href="https://github.com/masters2023-2nd-project-05/second-hand-BE?ref=localhost">Secondhand ë ˆí¬ì§€í† ë¦¬</a>ì—ì„œ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
<p>ê¸€ì— ëŒ€í•´ ì˜ëª»ëœ ë¶€ë¶„ì´ ìˆë‹¤ë©´ ëŒ“ê¸€ë¡œ ì•Œë ¤ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤ ğŸ˜€</p>
<hr>
<p><strong>ì°¸ê³ ë§í¬</strong></p>
<ul><li><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?ref=localhost">https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html</a></li><li><a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/EnableAsync.html?ref=localhost">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/EnableAsync.html</a></li><li><a href="https://www.baeldung.com/spring-async?ref=localhost">https://www.baeldung.com/spring-async</a></li><li><a href="https://dzone.com/articles/effective-advice-on-spring-async-part-1?ref=localhost">Effective&nbsp;Advice&nbsp;on&nbsp;Spring&nbsp;Async:&nbsp;Part&nbsp;1</a></li><li><a href="https://mangkyu.tistory.com/175?ref=localhost">https://mangkyu.tistory.com/175</a></li><li><a href="https://dahye-jeong.gitbook.io/spring/spring/2020-04-09-aop?ref=localhost">https://dahye-jeong.gitbook.io/spring/spring/2020-04-09-aop</a></li></ul>

		<section class="post-full-comments">
  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = "http://localhost:2369/s3-eobrodeu-bidonggi-ceori-banhwani-issneun-asyncreul-sayonghal-ddae-juyihal-geosdeul/";
      this.page.identifier = "ghost-6548df72ba758b43a5c0397f"
    };
    (function () {
      var d = document, s = d.createElement('script');
      s.src = 'https://' + window.disqus_shortname + '.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
</section>

            </section>

        </article>

                <div class="gh-read-next gh-canvas">
                <section class="gh-pagehead">
                    <h4 class="gh-pagehead-title">Read next</h4>
                </section>

                <div class="gh-topic gh-topic-grid">
                    <div class="gh-topic-content">
                            <article class="gh-card post no-image">
    <a class="gh-card-link" href="../api-seongneunggaeseon-200mangeonyi-deiteo-peiji/index.html">

        <div class="gh-card-wrapper">
            <header class="gh-card-header">
                <h3 class="gh-card-title">API ì„±ëŠ¥ê°œì„  : í˜ì´ì§€ë„¤ì´ì…˜ cursor ë°©ì‹ìœ¼ë¡œ ê°œì„ í•´ë³´ì</h3>
            </header>

                    <div class="gh-card-excerpt">ì´ ê¸€ì€ ë‹¹ê·¼ë§ˆì¼“ì„ ëª¨í‹°ë¸Œë¡œ í•œ í”„ë¡œì íŠ¸Â SecondhandÂ êµ¬í˜„ì‹œ ì´ìŠˆ ì‚¬í•­ì„ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.


API ê¸°ë³¸ ê¸°ëŠ¥ì„ ëª¨ë‘ êµ¬í˜„í•˜ê³  ë³¸ê²©ì ìœ¼ë¡œ ì¿¼ë¦¬ íŠœë‹ê³¼ ì„±ëŠ¥ ê°œì„ ì„ í•˜ê¸° ìœ„í•´ ì¿¼ë¦¬ë¥¼ ë¶„ì„í•˜ê³  ê°œì„ í•´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.


 * M1 16GB ë©”ëª¨ë¦¬ í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤.






200ë§Œê±´ì˜ ë°ì´í„°ë¥¼ ë„£ì–´ë³´ì


Dummy dataë¥¼ ë„£ëŠ” ë‹¤ì–‘í•œ ë°©ì‹ì´ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì €ëŠ” item í…Œì´ë¸”ì„ vertical partitioning í•œ ìƒíƒœì—¬ì„œ</div>

            <footer class="gh-card-footer">
                <span class="gh-card-author">saehim lee</span>
                <time class="gh-card-date" datetime="2023-09-17">Sep 17, 2023</time>
            </footer>
        </div>
    </a>
</article>                            <article class="gh-card post no-image">
    <a class="gh-card-link" href="../mysql-full-test-search/index.html">

        <div class="gh-card-wrapper">
            <header class="gh-card-header">
                <h3 class="gh-card-title">MySQL ê²€ìƒ‰ ê¸°ëŠ¥ ê°œì„ í•˜ê¸° : Full-text search</h3>
            </header>

                    <div class="gh-card-excerpt">ì´ ê¸€ì€ ë‹¹ê·¼ë§ˆì¼“ì„ ëª¨í‹°ë¸Œë¡œ í•œ í”„ë¡œì íŠ¸ Secondhand êµ¬í˜„ì‹œ ì´ìŠˆ ì‚¬í•­ì„ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.






ë°œë‹¨ : ì™œ ì´ê²ƒì´ í•„ìš”í–ˆë‚˜?



SecondhandëŠ” ë™ë„¤ë¥¼ ê²€ìƒ‰í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì´ëŸ°ê±°ìš”.


[ì´ë¯¸ì§€ ì¶œì²˜ : https://kikimong.com/7179]




ë¨¼ì € ë°ì´í„°ëŠ” ì´ëŸ°ì‹ìœ¼ë¡œ ë“¤ì–´ê°€ ìˆìŠµë‹ˆë‹¤. ë²•ì •ë™ ì½”ë“œë¥¼ pk ë¡œ í•˜ì˜€ìŠµë‹ˆë‹¤. í–‰ì •ë™ ì½”ë“œë³´ë‹¤ ë²•ì •ë™ ì½”ë“œë¥¼ ì„ íƒí•œ ì´ìœ ëŠ” ë³€ë™ì´ ë”</div>

            <footer class="gh-card-footer">
                <span class="gh-card-author">saehim lee</span>
                <time class="gh-card-date" datetime="2023-08-20">Aug 20, 2023</time>
            </footer>
        </div>
    </a>
</article>                            <article class="gh-card post no-image">
    <a class="gh-card-link" href="../bimilbeonho-amhohwahaeboja-feat-spring/index.html">

        <div class="gh-card-wrapper">
            <header class="gh-card-header">
                <h3 class="gh-card-title">ğŸ”Â ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™”í•´ë³´ì (Feat: Spring)</h3>
            </header>

                    <div class="gh-card-excerpt">í•´ë‹¹ ê¸€ì—ì„œ êµ¬í˜„ ì–¸ê¸‰í•œ ì½”ë“œëŠ” practice-member-api ì—ì„œ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.



ì‹œì‘í•˜ë©°


ì´ˆë°˜ ì—°ìŠµìš© í”„ë¡œì íŠ¸ì—ì„œ íšŒì›ê°€ì…ì„ êµ¬í˜„í•˜ë©° ê·¸ëƒ¥ ì¼ë°˜ í…ìŠ¤íŠ¸ë¡œ íšŒì› ë¹„ë°€ë²ˆí˜¸ë¥¼ ê´€ë¦¬í•´ì™”ìŠµë‹ˆë‹¤.


í•˜ì§€ë§Œ ë³´ì•ˆìƒ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì´ë ‡ê²Œ í‰ë¬¸ìœ¼ë¡œ ì €ì¥í•˜ëŠ” ì¼ì€ ë°˜ë“œì‹œ ì§€ì–‘ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.


ë§ˆì¹¨ íšŒì›ê°€ì…ê³¼ Jwt í† í°ì„ ì‚¬ìš©í•˜ëŠ” ì¸ì¦/ì¸ê°€ëŠ” ë§¤ìš° ìì£¼ ì“°ëŠ” ë¡œì§ì´ë¼ ë‚˜ë§Œì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë§Œë“¤ê³  ì‹¶ì—ˆëŠ”ë°ìš”. ì›í‹°ë“œ í”„ë¦¬ì˜¨ë³´ë”© ë°±ì—”ë“œ ì‚¬ì „</div>

            <footer class="gh-card-footer">
                <span class="gh-card-author">saehim lee</span>
                <time class="gh-card-date" datetime="2023-10-29">Oct 29, 2023</time>
            </footer>
        </div>
    </a>
</article>                    </div>
                </div>
            </div>

        </main>


    <footer class="gh-foot gh-outer">
        <div class="gh-foot-inner gh-inner">

            <nav class="gh-foot-menu">
                <ul class="nav">
    <li class="nav-resume"><a href="../resume/index.html">ğŸ‘©ğŸ»â€ğŸ’» Resume</a></li>
    <li class="nav-posts"><a href="../tag/posts/index.html">ğŸ‘©ğŸ»â€ğŸ’» Posts</a></li>
    <li class="nav-logs"><a href="../tag/log/index.html">ğŸš€ Logs</a></li>
    <li class="nav-project-secondhand"><a href="../tag/secondhand/index.html">ğŸ—‚ï¸ Project: Secondhand</a></li>
</ul>

            </nav>

            <div class="gh-copyright">
                    new-pow&#x27;s space Â© 2023. Powered by <a href="https://ghost.org/" target="_blank" rel="noopener">Ghost</a>
            </div>
        </div>
    </footer>

</div>

    <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="pswp__bg"></div>

    <div class="pswp__scroll-wrap">
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/built/main.min.js%3Fv=aee19b215e"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.12.3/tocbot.min.js"></script>
<script>
    tocbot.init({
        // Where to render the table of contents.
        tocSelector: '.gh-toc',
        // Where to grab the headings to build the table of contents.
        contentSelector: '.gh-content',
        // Which headings to grab inside of the contentSelector element.
        headingSelector: 'h1, h2, h3, h4',
        // Ensure correct positioning
        hasInnerContainers: true,
    });
</script>
<script>
    var disqus_shortname = "new-pow-github-io-1"
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/components/prism-core.min.js" integrity="sha512-9khQRAUBYEJDCDVP2yw3LRUQvjJ0Pjx0EShmaQjcHa6AXiOv6qHQu9lCAIR8O+/D8FtaCoJ2c0Tf9Xo7hYH01Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/autoloader/prism-autoloader.min.js" integrity="sha512-fTl/qcO1VgvKtOMApX2PdZzkziyr2stM65GYPLGuYMnuMm1z2JLJG6XVU7C/mR+E7xBUqCivykuhlzfqxXBXbg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script>
    tocbot.init({
        tocSelector: '.toc',
        /* contentSelector: '.post-content', */
        contentSelector: '.gh-content',
        hasInnerContainers: true
    });
</script>

<style>
    .article-image {
        max-width: 500px;
        margin: 0 auto !important;
        float: none !important;
	}
</style>

</body>

</html>
